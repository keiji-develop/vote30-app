# セットリストデータ構造定義

## 概要
このドキュメントは、ライブツアーのセットリスト情報を管理するデータ構造とバリデーションルールを定義します。
セットリストは、各ツアーで演奏された楽曲の順序を管理するためのデータ構造です。


## 重要な注意事項
このデータは以下の理由により、編集が制限されています：

1. **コアデータとしての位置づけ**
   - プロジェクトの基盤となる重要なマスターデータ
   - ツアー情報の重要な構成要素
   - データの整合性が極めて重要

2. **編集に関する制限**
   - 基本的に編集不可
   - 更新が必要な場合は、必ず公式情報との照合が必要
   - 変更する場合は、事前に複数人での確認が必要

3. **許可される操作**
   - 公式発表による新規ツアーのセットリスト追加
   - 明らかな誤字・脱字の修正
   - フォーマットの崩れの修正

## ファイル形式

### 基本情報
- ファイル形式: JSON形式（.json）
- ファイル名: `setlists.json`
- 文字コード: UTF-8
- 改行コード: LF（\n）
- インデント: 2スペース
- 配置場所: `public/data/setlists.json`

### ファイル構造
```json
[
  {
    // セットリスト1
  },
  {
    // セットリスト2
  }
  // ...
]
```
- ルート要素は配列
- 各要素はSetlistオブジェクト
- 末尾のカンマは不可
- コメントは不可

## データ構造

### 型定義
```typescript
// ファイル全体の型
type SetlistFile = Setlist[];

// セットリスト
type Setlist = {
  tourId: number;     // ツアーID（tours-core.jsonのid）
  songs: string[];    // 演奏曲目リスト
};
```

### データ例
```json
{
  "tourId": 30,
  "songs": [
    "WHITE BREATH",
    "LEVEL 4",
    "独裁-monopolize-",
    "---アンコール---",
    "BLACK OR WHITE ?"
  ]
}
```

## バリデーションルール

### 基本ルール
1. ツアーIDは`tours-core.json`に存在するIDと一致すること
2. 曲目リストは1つ以上の曲を含むこと
3. データはツアーID順で並んでいること
4. アンコール表記は公式表記に従うこと

### 詳細仕様

#### 1. 基本フィールド

##### 1.1. tourId（ツアーID）
- 必須項目
- 数値型
- `tours-core.json`に存在するIDと一致
- 重複不可

##### 1.2. songs（曲目リスト）
- 必須項目
- 文字列の配列
- 1つ以上の要素を含む
- 曲名は公式表記に従う
- アンコールの区切りを含む場合は "---アンコール---" を使用

## データ整合性ルール
1. データの順序はツアーID順と一致すること
2. 全ての曲名は公式表記と完全に一致すること（スペース、記号を含む）
3. アンコール表記は統一すること
4. 各ツアーIDに対して1つのセットリストのみ存在すること 